# log_analyzer
Analyzer for web servise logs

## Описание

Сĸрипт обрабатывает при запусĸе последний лог, парсит поле с url и временем запроса, считает необходимую статистику по url'ам. Финальный результат рендерит в отчет в формате HTML.

## Спецификация

### Глобальные параметры

Глобальные парамметры скрипта определяются в конфиге, считанном из файла. По-умолчанию конфиг находится ./config/ Если часть значений в конфиге отсутсвует, скрипт использует значения по умолчанию:

|Название|Тип|Описание|Значение по-умолчанию|
|--------|---|--------|---------------------|
|REPORT_SIZE|int|Количество url'ов с максимальным временем ожидания в отчете|1000|
|REPORT_DIR|str|Путь к папке с итоговыми отчетами|./reports|
|LOG_DIR|str|Путь к папке с логами для обработки|./log|
|PROG_LOG_DIR|str|Путь к папке с логами работы скрипта|по умолчанию логи пишутся в корневую директорию|
|ERROR_LEVEL|float|Уровень ошибок парсинга логов, после которого скрипт останавливает дальнейщую обработку (в %)|20|

Сĸрипту можно уĸазать считать ĸонфиг из
другого файла, передав его путь через --config

### Входные параметры

(Опционально) можно указать путь к конфигу, передав его через --config

### Выходные параметры

Файл с отчетом в формате HTML, в формате report-YYYY.MM.DD.html

## Запуск тестов

Для запуска тестов, запустите Командную строку, перейдите в папку со скриптом (команда cd) и запустите команду "python -m unittest" (windows)

## Запуск скрипта

Для запуска скрипта, запустите Командную строку, перейдите в папку со скриптом (команда cd) и запустите команду "python log_analyzer.py" (windows)
